---
import experienceData from "../data/experience.json";
---

<section id="experience" class="py-24 relative">
  <div class="container mx-auto px-6">
    <h2 class="section-title">Work Experience</h2>

    <div class="max-w-5xl mx-auto relative">
      {/* Central Line */}
      <div
        class="absolute left-4 md:left-1/2 top-0 bottom-0 border-l-2 border-white/10 md:-ml-[1px]"
      >
      </div>

      {
        experienceData.map((item, index) => (
          <div
            class={`mb-12 relative flex flex-col md:flex-row w-full ${index % 2 !== 0 ? "md:flex-row-reverse" : ""}`}
          >
            {/* Content */}
            <div
              class={`w-full md:w-1/2 pl-12 md:pl-0 ${index % 2 !== 0 ? "md:pl-12 md:text-left" : "md:pr-12 md:text-right"}`}
            >
              <div class="glass-card p-6 transition-all duration-300 hover:scale-[1.02] hover:shadow-[0_0_20px_rgba(168,85,247,0.15)] relative group">
                {/* Header */}
                <div
                  class={`flex flex-col mb-4 gap-1 ${index % 2 !== 0 ? "md:items-start" : "md:items-end"} items-start`}
                >
                  <h3 class="text-xl font-bold text-white group-hover:text-purple-400 transition-colors">
                    {item.role}
                  </h3>
                  <p class="text-purple-400 font-medium text-lg">
                    {item.company}
                  </p>
                  <span class="inline-block px-3 py-1 bg-white/5 rounded-full text-sm text-slate-400 border border-white/10 mt-1">
                    {item.date}
                  </span>
                </div>

                {/* Description */}
                <ul
                  class={`space-y-2 ${index % 2 !== 0 ? "text-left" : "md:text-right text-left"}`}
                >
                  {item.description.map((point) => (
                    <li
                      class={`flex md:inline-flex items-start gap-2 text-slate-400 text-sm ${index % 2 !== 0 ? "" : "md:flex-row-reverse text-left md:text-right"}`}
                    >
                      <span class="text-purple-500 mt-1.5 shrink-0">â€¢</span>
                      <span>{point}</span>
                    </li>
                  ))}
                </ul>
              </div>
            </div>

            {/* Desktop Dot (Center) */}
            <div class="hidden md:block absolute left-1/2 top-8 -translate-x-1/2 w-4 h-4 rounded-full bg-purple-500 border-4 border-slate-950 z-10 shadow-[0_0_15px_rgba(168,85,247,0.5)]" />

            {/* Mobile Dot (Left) */}
            <div class="md:hidden absolute left-[7px] top-8 w-4 h-4 rounded-full bg-purple-500 border-4 border-slate-950 z-10" />

            {/* Spacer */}
            <div class="hidden md:block w-1/2" />
          </div>
        ))
      }
    </div>
  </div>
</section>
